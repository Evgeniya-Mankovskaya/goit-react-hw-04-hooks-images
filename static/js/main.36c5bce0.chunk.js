(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2gy2l"}},11:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3Gu4s",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__13zpd"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__5c0RV",modal:"Modal_modal__3KQAU"}},15:function(e,t,a){e.exports={button:"Button_button__3DuXR"}},16:function(e,t,a){e.exports={container:"Container_container__3JSPM"}},22:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),i=(a(22),a(3)),s=a(5),l=(a(23),a(17)),u=a(6),b=a.n(u),j=a(1);function m(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(j.jsx)("header",{className:b.a.searchbar,children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):Object(s.b)("Enter query in the search field.")},className:b.a.searchForm,children:[Object(j.jsxs)("button",{type:"submit",className:b.a.button,children:[Object(j.jsx)("span",{className:b.a.buttonLabel,children:"Search"}),Object(j.jsx)(l.a,{})]}),Object(j.jsx)("input",{value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:b.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var h=a(13),d=a(14),O=a.n(d),f=(a(45),a(10)),g=a.n(f),p=a(11),_=a.n(p),x=function(e){var t=e.src,a=e.alt,n=e.onClick,c=e.id;return Object(j.jsx)("li",{className:_.a.imageGalleryItem,onClick:function(){n(t,a,c)},children:Object(j.jsx)("img",{src:t,alt:a,className:_.a.imageGalleryItemImage})})},v=a(15),y=a.n(v);var S=function(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",className:y.a.button,onClick:t,children:"Load more"})},w=a(12),I=a.n(w),k=document.querySelector("#modal-root");var N=function(e){var t=e.onClose,a=e.src,n=e.tags;return Object(r.createPortal)(Object(j.jsx)("div",{className:I.a.overlay,onClick:t,children:Object(j.jsx)("div",{className:I.a.modal,children:Object(j.jsx)("img",{src:a,alt:n})})}),k)};var G={fetchImages:function(e,t){return fetch("https://pixabay.com/api/"+"?q=".concat(e,"&page=").concat(t,"&key=").concat("24006610-770c029dafc5e505b4312f4f7","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Nothing were found"))}))}},C="idle",E="pending",L="resolved",F="rejected";function J(e){var t=e.searchQuery,a=Object(n.useState)([]),c=Object(i.a)(a,2),r=c[0],o=c[1],l=Object(n.useState)(C),u=Object(i.a)(l,2),b=u[0],m=u[1],d=Object(n.useState)(null),f=Object(i.a)(d,2),p=(f[0],f[1]),_=Object(n.useState)(1),v=Object(i.a)(_,2),y=v[0],w=v[1],I=Object(n.useState)(!1),k=Object(i.a)(I,2),J=k[0],q=k[1],M=Object(n.useState)(""),P=Object(i.a)(M,2),Q=P[0],U=P[1],K=Object(n.useState)(""),R=Object(i.a)(K,2),z=R[0],B=R[1];Object(n.useEffect)((function(){t&&(m(E),G.fetchImages(t,y).then((function(e){if(0===e.hits.length)return Promise.reject(new Error("Nothing were found with ".concat(t)));o((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e.hits))})),m(L),D()})).catch((function(e){p(e),m(F),Object(s.b)("Someting went wrong")})))}),[y,t]);var D=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},H=function(){q(!J)},T=function(e){"Escape"===e.code&&A()},X=function(e,t){B(e),U(t),window.addEventListener("keydown",T),H()},A=function(){B(""),U(""),window.removeEventListener("keydown",T),H()};return b===C?Object(j.jsx)("div",{children:"Enter search query"}):b===E?Object(j.jsx)(O.a,{className:g.a.loader,type:"Hearts",color:"#cea8d67a",height:80,width:80}):b===F?Object(j.jsx)("div",{children:"Nothing were found"}):b===L?Object(j.jsxs)("div",{children:[J&&Object(j.jsx)(N,{onClose:A,src:z,tags:Q}),Object(j.jsx)("ul",{className:g.a.imageGallery,children:r.map((function(e){var t=e.largeImageURL,a=e.tags,n=e.id;return Object(j.jsx)(x,{src:t,alt:a,onClick:X},n)}))}),Object(j.jsx)(S,{onClick:function(){w((function(e){return e+1}))}})]}):void 0}a(46);var q=a(16),M=a.n(q);var P=function(e){var t=e.children;return Object(j.jsx)("div",{className:M.a.container,children:t})};function Q(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(P,{children:Object(j.jsx)(m,{onSubmit:c})}),Object(j.jsx)(P,{children:Object(j.jsx)(J,{searchQuery:a})}),Object(j.jsx)(s.a,{position:"top-center"})]})}o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Q,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__QXhuK",searchForm:"Searchbar_searchForm__1hs9J",button:"Searchbar_button__1-GUF",buttonLabel:"Searchbar_buttonLabel__JkOFn",input:"Searchbar_input__2K8kU"}}},[[47,1,2]]]);
//# sourceMappingURL=main.36c5bce0.chunk.js.map